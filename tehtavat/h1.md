# h1 Oma linux
Aiheena oli luoda linux debian virtuaalikone.
Oma alustani oli Windows-11 ja tämä rapotti koskee vain tätä alustaa.
Aloitin työn kello n. 19.45
Huomioithan raportin kirjoittamiseen kulunut aika tehtävän aikana ajoista.

# Tehtävä x.)
## Raportin kirjoittaminen
- Täsmällisesti mitä teit, mitä sitten tapahtui.
- Alku kohta selväksi
- Kaikki komennot ylös!
- Muista merkitä ajankohdat ja kuinka kauan kussakin asiassa meni
- Kirjoita epäonnistumiset ja miten niistä päästiin yli!
- Kirjoita imperfektissä!
- Muista lähde viittaukset
- Ei saa sepittää!

# Tehtävä a.)
## 1 Lataa debian
Googlasin debian live ja siirryin https://www.debian.org/CD/live/ osoitteeseen
Opettajan kehotuksesta latasin live xfce version ja 64 bittisen, joka löytyi aiemmin mainitusta osoitteesta.
Lataukseen kului noin 6 min.
Kello: 19.53

## 2 Virtualbox
Kehotettiin käyttämään virtualbox virtualisointi alustaa, joka monulta onneksi löytyi jo asennettuna tietokoneelle. 
Jos sitä ei ole, sen löytää osoitteesta:
https://www.virtualbox.org/
Huom!
Kernelistä pitää hyväksyä virtualisointi, jotta tämä toimii. Minulla se oli jo valmiiksi hyväksyttynä, joten ei ollut tarvittavia toimenpiteitä.

## 3 Virtuaali koneen asennus
Käynnistin virtualbox:in ja painoin "New" josta pääsee uuden virtuaalkoneen luonti wizardiin.
Valitsin juuri lataamani "debian-live-13.0.0-amd64-xfce.iso"
Tarkistin vielä tässä vaiheessa että versio oli oikea ja arkkitehtuuri oikea. Näyttivät olevan.
Seuraavaksi tarkistettiin tyyppi ja versio, jotta ne olisivat debian x64.
Muutin muutamaa asetusta hardwaresta virtuaalikoneen  käyttämään useampaa CPU ydintä ja annoin sille RAM muistia enemmän.
Vaihdoin myös sille virtuaalisen kovalevyn koon: 20 Gt
Laitoin "Create a virtual hard disk now" päälle.
Huomaathan, etten painanut vaihtoehtoa päälle, joka täyttää tämän valmiiksi, vaan sen sijaan dynaamisen allocaation.
Aikaa kului 2 min
Kello 19.58

## 4 Live kokeilu
Boottasin koneen painamalla start.
Virtualbox valitti, että ISO levyä ei pysty asentamaan, joten painoin ok ja valitsin sen manuaalisesti uudestaan tässä kohtaa.
Kone reboottasi ja tämän jälkeen sain sen toimimaan.
Valitisin boot menusta Live bootin.
Aukesi normaalisti ja tässä live tilassa pystyi katsomaan onko distro sellainen kuin haluaa.
Aikaa kului 5 min
Kello 20.05

## 5 Asennus
Uudelleen käynnistin koneen ja valitsin bootmenusta tällä kertaa "Install debian".

1. Valittiin kieli ja alue, jotka otin Suomi molempiin.
2. Näppäimistön valitseminen. Suomi taas.
3. Hostname: linux-testi
4. Domain: linux-testi, tämä ei ole tarpeellinen tehdä meidän tilanteessa, koska tässä virtuaaliverkossa on vain yksi tietokone.
5. Ylläpitäjän tunnus ja salasana. Nämä jätettiin nyt tyhjäksi, sillä ei haluttu erillistä ylläpitäjä käyttäjää koneelle. Se on tietoturva riski, vaan luodaan oma käyttäjä jolle annetaan "sudo".
6. Kokonimi, oma käyttäjätunnus ja salasana. Valitsin tähän oman nimen ja käyttätunnukseksi myös omanimi sekä hyvän salasanan, joka oli 8-16 merkkiä pitkä ja käytti kaikkia merkkejä ASCII:sta.
7. Partition disks. Valittiin no. Ja seuraavassa kohdassa "guided -use entire disk".
8. Vielä valittiin meidän luoma virtuaalikovalevy jolle debian tulee asentumaan. Näitä oli vain yksi tässä tilanteessa.
9. Valittiin halutaanko tehdä "partition disk", tähän valitsin, että kaikki yhdelle eli "recommended for new users" valinta.
10. Seuraavaksi asennus alkaa. Tässä minulla kesti noin 10 minuuttia.
Kello oli asennuksen alussa 20.15
11. Asennus valmis. Kello 20.25.

## 6 Reflektio
Mielenkiintoista jättää ylläpitäjäkäyttäjä pois ja käyttää vain pääkäyttäjänä sudoa. Olen ennenkin tehnyt näin, mutta en ennen tiennyt, että se liittyy tietoturvaan se syy tehdä se näin.

Olen asentanut jo niin monta distroa tässä vaiheessa virtuaalikoneille, että tämä meni tässä vaihessa jo kuin vettä vain, mutta harjoitus ei tee hallaa.

# Tehtävä k.)
## Lempiohjelmani grep
Grep on CLI työkalu tarkoitettu stringien löytämiseen, jotka matchaavat antaamsi regexiin (regular expression)
Käytin tässä tehtävässä Linux subsystem for Windows ja Kali linux distroa.
Pääkoneena toimi windows-11 asus vivonbook läppäri.

## Grep helpossa tilanteessa
Meillä on tiedosto "flag" joka sisältää pitkän stringin jonka jossakin kohdassa lukee "flag" sen jokainen merkki voi olla joko isolla tai pienellä. Tässä kestäisi hurjasti aikaa löytää se silmällä.

Joten käytetään grep komentoa -i flagilla.
- i     "Ignore case"

$ cat flag | grep -i flag
a9x7Qw8LmPz3tVr6jDk2oB**fLAg**Xn1yC5hGe4RuTi8sMbNv0WcKqZpLdJoFhAx9yT7vUm2rNb4pCqXe3kVs6wDn1jYc5gHo8uMz0tRk9sXyV2uLq3bWn6mPj1dZc7oQe4hGt5iFa8rKy0uMz2nXw9pLb4cJd6sQh1vRk7oYn3tUf5gEw2mCx8qJz0pLd9kVo4sBr6nTy1hGw7mPc3qXj2zNf5yRu0tKb8

Palautuneesta syötöstä löydettiin nopeasti etsimämme.

## Grep hankalassa tilanteessa
Käyttää grep työkalua löytämään lipun overthewire bandit5 wargame tehtävässä.
Yhdistin koneeseen komennolla:
$ ssh -p 2220 bandit5@bandit.labs.overthewire.org
Salasana: 4oQYVPkxZOOEOO5pTW81FB8j8lxXGUQw
Tehtävän alku kello 14.56

## Grep hankalassa tilanteessa
Tarkoitus löytää flag tiedosto, mutta nyt hakemistossa on monia hakemisto puita joissa monia tiedostoa. Tiedetään vain, että etsimämme tiedosto on "human readable" eli se on ASCII text muodossa.

$ ls
- Löydettiin kansio "inhere"
$ cd inhere
$ ls
maybehere00  maybehere04  maybehere08  maybehere12  maybehere16
maybehere01  maybehere05  maybehere09  maybehere13  maybehere17
maybehere02  maybehere06  maybehere10  maybehere14  maybehere18
maybehere03  maybehere07  maybehere11  maybehere15  maybehere19

Nyt ollaan "inhere" kansiossa ja huomattiin, että täältä löytyy useita kansioita. Tässä kestäisi ikuisuus katsoa kaikki ne läpi yksitellen ja etsiä ja lukea oikea tiedosto, joten otetaan käyttöön grep.
Käytin seuraava komentoa tiedoston löytämiselle.

$ find . -type f -exec file {} \; | grep 'ASCII text'
./maybehere18/-file2: ASCII text
./maybehere18/spaces file2: ASCII text, with very long lines (6347)
./maybehere18/spaces file1: ASCII text, with very long lines (7333)
./maybehere18/.file2: ASCII text, with very long lines (2083)
...

Grep tässä kohdassa etsi aiemmin komennon syötöstä mikä tiedosto sisältää ASCII text flagin. Tällä säästettiin hurjasti aikaa.
$ cat ./maybehere18/-file2
eKqR22ODhv7SlpxkAEJXSL7s8KT9EaaM3saDwVnXMajkCQfGuDjJZjKtBPMWAZGsDntoXUTxPLh9

Ja saatiin lippu

# Lähteet
https://terokarvinen.com/linux-palvelimet/